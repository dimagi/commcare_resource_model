usage:
  users:
    model: 'date_range_value'
    ranges:
      - ['20180101', '20181201', 100000]
      - ['20190101', '20191201', 200000]
      - ['20200101', '20201201', 300000]
  forms:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 600
  forms_total:
    model: 'cumulative'
    dependant_field: 'forms'
  cases:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 200
  cases_total:
    model: 'cumulative'
    dependant_field: 'cases'
  case_transactions:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 1600
  case_transactions_total:
    model: 'cumulative'
    dependant_field: 'case_transactions'
  task_cases:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 100
  task_cases_total:
    model: 'cumulative_limited_lifespan'
    dependant_field: 'task_cases'
    lifespan: 1
#  person_cases:
#    model: 'cumulative'
#    items_per_user:
  task_ledgers:
    model: 'derived_factor'
    dependant_field: 'task_cases'
    factor: 5
  task_ledger_updates:
    model: 'derived_factor'
    dependant_field: 'task_cases'
    factor: 4
  synclogs:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 10
  device_logs:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 1600
  device_logs_total:
    model: 'cumulative_limited_lifespan'
    dependant_field: 'device_logs'
    lifespan: 1
  images:
    model: 'derived_factor'
    dependant_field: 'users'
    factor: 33
  images_total:
    model: 'cumulative_limited_lifespan'
    dependant_field: 'images'
    lifespan: 3
  case_indices:
    model: 'derived_factor'
    dependant_field: 'cases_total'
    factor: 0.92
  kafak_changes:
    model: 'derived_sum'
    dependant_fields: ['forms', 'cases', 'case_transactions', 'task_ledger_updates']

storage:
  sql_primary:
    ssd: True
    redundancy_factor: 2
    data_models:  
      - referenced_field: 'forms_total'
        unit_bytes: 1200
      - referenced_field: 'cases_total'
        unit_bytes: 1800
      - referenced_field: 'case_indices'
        unit_bytes: 380
      - referenced_field: 'case_transactions_total'
        unit_bytes: 515
      - referenced_field: 'task_ledgers'
        unit_bytes: 450
      - referenced_field: 'task_ledger_updates'
        unit_bytes: 420
  device_logs:
    ssd: False
    redundancy_factor: 1
    data_models:
      - referenced_field: 'device_logs_total'
        unit_bytes: 1200
#  sql_meta:  # TODO
#    data_models:
#      - referenced_field: 'phone_numbers'
#        unit_bytes: 660
#      - referenced_field: 'sessions'
#        unit_bytes: 500
  couchdb_synclogs:
    ssd: True
    redundancy_factor: 2
    data_models:
      - referenced_field: 'synclogs'
        unit_bytes: 210000
#  couchdb_meta:  # TODO
#    redundancy_factor: 3
#    data_models:
  elastic:
    ssd: False
    redundancy_factor: 2
    data_models:
      - referenced_field: 'forms_total'
        unit_bytes: 5500
      - referenced_field: 'cases_total'
        unit_bytes: 1800
      - referenced_field: 'case_transactions_total'
        unit_bytes: 250
      - referenced_field: 'task_ledgers'
        unit_bytes: 500  # TODO: get mor accurate number
  kafka:
    ssd: False
    redundancy_factor: 1
    data_models:
      - referenced_field: 'kafak_changes'
        unit_bytes: 500
  riak:
    ssd: False
    redundancy_factor: 3
    data_models:
      - referenced_field: 'forms_total'
        unit_bytes: 11000
      - referenced_field: 'images_total'
        unit_bytes: 50000
#  ucr:  # TODO
#  warehouse:  # TODO
